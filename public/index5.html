<!DOCTYPE html>
<html>
  <head>
    <title>The Philosopher Developer</title>
    <meta charset='utf-8' />
    <meta content='initial-scale=1.0, width=device-width, user-scalable=no' name='viewport' />
    <link href='/stylesheets/application.css' rel='stylesheet' />
    <link href='/stylesheets/pygments.css' rel='stylesheet' />
    <script src='http://w.sharethis.com/button/buttons.js' type='text/javascript'></script>
    <script src='/javascripts/ga.js' type='text/javascript'></script>
    <script src='/javascripts/shareThis.js' type='text/javascript'></script>
    <script src='/javascripts/jquery-1.9.1.min.js' type='text/javascript'></script>
    <script src='/javascripts/main.js' type='text/javascript'></script>
    
    <script type='text/javascript' src='/javascripts/posts.js'></script>
  </head>
  <body>
    <header id='header'>
      <h1><a href="/">The Philosopher Developer</a></h1>
      <h2>half-sound logic, half-decent code</h2>
    </header>
    <article class='abbreviated'>
  <header>
    <h1>
      <span class='title'>
        <a href='/posts/being-agile-with-continuous-integration.html'>Being agile with continuous integration</a>
      </span>
      <span class='date'>January 27, 2012</span>
    </h1>
  </header>
  <section class='content'>
    <p>Something’s been stirring around in my head lately, and it’s going to seem somewhat heretical to those firmly planted in a particular school of thought. Essentially I’ve been questioning the way continuous integration is done on some of the software projects I’ve seen, at ThoughtWorks and elsewhere.</p>
    
    <p>More broadly, I guess my skepticism isn’t specifically about continuous integration, but rather about test-driven development with TDD and, more importantly, BDD (i.e., with a language like Gherkin/Cucumber for defining feature requirements and a UI automation tool such as Selenium for driving acceptance tests).</p>
    
    <p>To be clear, I view TDD and BDD as extremely useful techniques; and CI is a powerful tool to maximize their effectiveness. I would even accept that we are better off using a test-driven approach for 100% of development than we would be if we used no TDD. But that isn’t the same as saying 100% TDD is optimal or that we should get started with BDD immediately on every project. Like most everything else in life, I believe it is ultimately a matter of achieving the right balance, which requires good judgment.</p>
    
    <p>As a bit of background, I have had conversations with colleagues who have agreed with me that sometimes testing is not necessary or appropriate. The attitude I have picked up as a general rule of thumb is that for spiking out software prototypes—throwaway versions that we acknowledge in advance will probably differ dramatically from any actual release—we can often move faster by coding features without testing them. TDD might still be useful in this context, however, as one of its benefits is that it assists the developer in thinking through the implementation of a tricky piece of logic. But its usefulness here is actually in <em>increasing</em> development speed (which is important for a prototype), not in <span class="post-link">... (<a href="/posts/being-agile-with-continuous-integration.html">read the full post</a>)</span></p>
  </section>
</article>
<article class='abbreviated'>
  <header>
    <h1>
      <span class='title'>
        <a href='/posts/ghost-clicks-in-jquery-mobile.html'>Ghost clicks in jQuery Mobile</a>
      </span>
      <span class='date'>November 01, 2011</span>
    </h1>
  </header>
  <section class='content'>
    <p>I know it’s been a long time since I’ve written (<em>especially</em> for someone who’s repeatedly claimed he will write daily posts). I’ve got some more substantial ideas to discuss in the near future (honest!)<strike>, but this particular post is going to be a short one</strike>. [Correction: this post ended up being kinda long.]</p>

<p>On my current project we’re in the process of wrapping up a mobile website we built using <a href="http://jquerymobile.com/">jQuery Mobile</a>. One issue we encountered during development was that on certain pages, a strange “ghost click” behavior was observed: the user would click a button, the page would change, and then a button on the destination page (positioned at the same location as the original button) would seem to be automatically clicked as if the user had clicked twice—or as if a <em>ghost</em> had clicked it.</p>

<p>It turns out that this is a known issue for mobile web browsers, which <a href="http://code.google.com/mobile/articles/fast_buttons.html">Google wrote about back in January</a>. In the article, Ryan Fioravanti explains that most mobile browsers introduce a delay of ~300 ms before every <code>click</code> event, for the reason that they want to account for the possibility that the user might be double-clicking to zoom in on the page. So what can happen on a mobile web project this:</p>

<ul>
<li>Someone notices that the UI seems sluggish. In particular, clicking on buttons feels very slow.</li>

<li>A developer looks into the problem and finds that the issue can be mitigated by handling an event other than <code>click</code>, such as <code>touchstart</code> (jQuery Mobile has a <code>vclick</code> event).</li>

<li>Now that the clickable element in question handles a non-<code>click</code> event, when it is clicked, <strong>there is still a <code>click</code> event waiting to be triggered within the next ~300 ms</strong>; and so if a page <span class="post-link">... (<a href="/posts/ghost-clicks-in-jquery-mobile.html">read the full post</a>)</span>
</li>
</ul>
  </section>
</article>
<article class='abbreviated'>
  <header>
    <h1>
      <span class='title'>
        <a href='/posts/best-dependency-is-no-dependency.html'>The best dependency is no dependency</a>
      </span>
      <span class='date'>September 20, 2011</span>
    </h1>
  </header>
  <section class='content'>
    <p>I recently caught wind of an exciting new project that claims to be “the world’s smallest and fastest JavaScript library”: <a href="http://vaporjs.com/">Vapor.js</a>.</p>

<p>We developers are always excited about small &amp; fast libraries, so naturally I was intrigued. Taking a look at the project’s homepage, you immediately see the following tantalizing graph:</p>

<figure><img src="/images/vaporjs.jpg" alt="The worlds smallest &amp; fastest JavaScript library"><figcaption>The worlds smallest &amp; fastest JavaScript library</figcaption></figure>

<p>Wow. Now <em>that’s</em> fast (off the charts, <em>literally!</em>)… but wait a minute. How can this be? Let’s take a look at the source code…</p>

<p>On its GitHub page, the Vapor.js README file starts off as follows:</p>

<blockquote>
<p><strong>vapor.js is a new amazing JavaScript framework.</strong></p>

<p>In just 0 lines of code it provides:</p>

<p>[The README ends there.]</p>
</blockquote>

<p>Ah. <em>I</em> get it now. It’s a joke.</p>

<p>But you know what? I actually think there’s something to this. A couple of things, actually.</p>

<p>First, there’s the “fastest” claim and that absurd graph. Obviously, if the library does <em>nothing</em>, it’s as “fast” as it can possibly get. But, you know, I say “obviously”; yet it’s very easy to forget this fundamental axiom:</p>

<p class="large">You make software <em>faster</em> by making it <em>do less</em>.</p>

<p>(This concept is clearly not original to me. I’m sure I’ve read an article or blog post specifically about this idea somewhere else; unfortunately, I was not able to find a reference with a quick Google search.)</p>

<p>CPUs aren’t creatures; you can’t magically make them perform more operations per second by cracking a whip or digging in your spurs (although <em>like</em> many animals, they <em>can</em> be sped up by reducing their load). Your processor is a <strong>machine</strong>, executing instructions at a (basically) constant rate. It’s the <strong>number of instructions</strong> that affects how “fast” or “slow” your software feels.</p>

<p>Note that I am not just talking about <em>features</em>. The same feature can be implemented in countless ways, <span class="post-link">... (<a href="/posts/best-dependency-is-no-dependency.html">read the full post</a>)</span></p>
  </section>
</article>
<article class='abbreviated'>
  <header>
    <h1>
      <span class='title'>
        <a href='/posts/were-all-going-to-die-because-you-dont-know-what-a-binary-tree-is.html'>We're all going to die because you don't know what a binary tree is</a>
      </span>
      <span class='date'>August 13, 2011</span>
    </h1>
  </header>
  <section class='content'>
    <p>Guys, I’m worried about <strong><a href="http://en.wikipedia.org/wiki/Technological_singularity">The Singularity</a></strong>.</p>

<figure><img src="/images/skynet.jpg" alt="The Singularity"><figcaption>The Singularity</figcaption></figure>

<p>OK, wait. Let me take a step back. And explain.</p>

<p>At one point on my last project I dealt with a bug that involved certain records for a certain bank <em>disappearing</em>. Not from the internal database, mind you—only from the in-memory storage of a particular application. To my astonishment, I eventually traced the cause of the bug to the following Java code:</p>

<div class="highlight"><pre><span class="kd">public</span> <span class="n">Collection</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="nf">sortList</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">Collection</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">sortedList</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TreeSet</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;(</span><span class="k">this</span><span class="o">.</span><span class="na">comparator</span><span class="o">);</span>
    <span class="n">sortedList</span><span class="o">.</span><span class="na">addAll</span><span class="o">(</span><span class="n">list</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">sortedList</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>

<p>Non-programmers, I understand that is gibberish to you. Now here’s the scary part: <strong>it’s gibberish to most <em>programmers</em> too</strong>.</p>

<p>All right, maybe not exactly <em>gibberish</em>, but… not properly understood. I was surprised when I found this bug for a number of reasons, but the most startling of these was that a genuinely <em>good</em> developer wrote it. And other genuinely good developers thought it was right.</p>

<p>What the code is apparently <em>supposed</em> to do is this: take a list and give back a sorted version of it (based on some potentially-custom comparator). What it <em>actually</em> does is: exactly that, plus <strong>remove duplicates</strong>. In other words, if you gave it the list <code>[3, 2, 1, 2]</code>, rather then return <code>[1, 2, 2, 3]</code> (the same list, only sorted, right?), it would return <code>[1, 2, 3]</code>, having removed the duplicate <code>2</code>.</p>

<p>So it’s pretty obvious how this could cause a bug, yes? You have a bunch of records, you try to display them in sorted order, and suddenly a bunch of them are missing.</p>

<p>To my dismay, none of the other developers on my team could see what I was talking about when I first pointed this out. “So what if it removes duplicates?” was the general response. “That’ll only happen <span class="post-link">... (<a href="/posts/were-all-going-to-die-because-you-dont-know-what-a-binary-tree-is.html">read the full post</a>)</span></p>
  </section>
</article>
<article class='abbreviated'>
  <header>
    <h1>
      <span class='title'>
        <a href='/posts/paradox-of-free-will.html'>The paradox of free will</a>
      </span>
      <span class='date'>July 30, 2011</span>
    </h1>
  </header>
  <section class='content'>
    <p>I recently read an excellent piece by Raymond Smullyan entitled <em><a href="http://www.mit.edu/people/dpolicar/writing/prose/text/godTaoist.html">Is God a Taoist?</a></em> I particularly like what Smullyan has to say about the concept of free will; here is an excerpt:</p>
    
    <blockquote>
    <p>Of course, you might well say that the doctrine of free will says that it is you who are doing the determining, whereas the doctrine of determinism appears to say that your acts are determined by something apparently outside you. But the confusion is largely caused by your bifurcation of reality into the “you” and the “not you.” Really now, just where do you leave off and the rest of the universe begin? Or where does the rest of the universe leave off and you begin? Once you can see the so-called “you” and the so-called “nature” as a continuous whole, then you can never again be bothered by such questions as whether it is you who are controlling nature or nature who is controlling you. Thus the muddle of free will versus determinism will vanish.</p>
    </blockquote>
    
    <p>I like that way of thinking about the question of free will: it’s quite simple, actually, and yet it provides resolution to what is for so many people a truly vexing and even infuriating puzzle.</p>
    
    <p>That said, here’s a totally different thought on the same subject that I myself recently had. It’s actually a bit of a paradox.</p>
    
    <p>Consider the question of whether we have free will or our actions are determined by forces outside of our control. Imagine that you have access to every fact about the physical universe—and I mean <em>everything</em>, down to the location and velocity of every individual particle, or <a href="http://en.wikipedia.org/wiki/Electron_density">probability density</a>, or whatever it takes to be able to say that <strong>the conditions are completely known</strong> at a particular moment in time—including, of course, the <span class="post-link">... (<a href="/posts/paradox-of-free-will.html">read the full post</a>)</span></p>
  </section>
</article>
<div class='next-page'>
  <a href='/index6.html'>View older posts</a>
</div>
    <footer>
      <ul class='menu'>
        <li><a href="/posts">All Posts</a></li>
        <li><a href="/about">About</a></li>
        <li>
          <a href='http://stackoverflow.com/users/105570' target='_blank'>
            <img alt='StackOverflow' src='/images/icons/stackoverflow-small.png' />
          </a>
        </li>
        <li>
          <a href='https://github.com/dtao' target='_blank'>
            <img alt='GitHub' src='/images/icons/github-small.png' />
          </a>
        </li>
        <li>
          <a href='https://twitter.com/dan_tao' target='_blank'>
            <img alt='Twitter' src='/images/icons/twitter-small.png' />
          </a>
        </li>
        <li>
          <a href='http://feeds.feedburner.com/philosopherdeveloper'>
            <img alt='RSS' src='/images/icons/rss-small.png' />
          </a>
        </li>
      </ul>
    </footer>
  </body>
</html>
